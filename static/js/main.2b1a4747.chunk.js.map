{"version":3,"sources":["contexts/EthereumContext.tsx","constants/index.ts","assets/banner.png","hooks/useEthereum.ts","components/BlocksList/styles.ts","components/BlocksList/index.tsx","utils/index.ts","components/Block/styles.ts","components/Block/index.tsx","hooks/useBlockDate.ts","components/TransactionsList/styles.ts","components/TransactionsList/index.tsx","components/Transaction/styles.ts","components/Transaction/index.tsx","components/TransactionModal/styles.tsx","components/TransactionModal/index.tsx","assets/copy.svg","components/Field/index.tsx","components/Button/index.ts","components/Spinner/styles.ts","components/Spinner/index.tsx","styles.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["EthereumContext","createContext","EthereumContextProvider","children","useState","latestBlocks","setLatestBlocks","provider","setProvider","userAddress","setUserAddress","alert","useAlert","getLatestBlocks","useCallback","a","getBlockNumber","latestBlockNumber","blocks","currentBlock","length","getBlockWithTransactions","newBlock","push","console","log","subscribeToNewBlocks","on","blockNumber","map","block","number","includes","slice","error","connectWithProvider","window","ethereum","ethers","providers","WebSocketProvider","show","connectWallet","request","method","accounts","useEffect","Provider","value","useEthereum","useContext","Container","styled","div","BlocksList","hash","getBigNumber","utils","formatEther","fadeIn","keyframes","Expanded","Collapsed","ExpandButtonContainer","ExpandButton","Label","h3","Input","input","CheckboxContainer","TimeAgo","Hash","span","Block","expanded","setExpanded","onlyOwnTransactions","setOnlyOwnTransactions","timestamp","Date","currentTime","setCurrentTime","timeAgo","setTimeAgo","timer","setInterval","clearInterval","time","result","Math","round","getTime","getBlockDate","useBlockDate","transactionsSendingETH","transactions","filter","transaction","Number","ownTransactions","from","to","text","String","miner","type","onClick","defaultChecked","TransactionsList","Transaction","modalOpen","setModalOpen","toggleModal","isOpen","onClose","Background","CloseButton","TransactionModal","Field","inputRef","useRef","FieldContainer","FieldBase","readOnly","ref","Button","refEl","callback","select","document","execCommand","copyToClipboard","current","Icon","src","copyIcon","img","button","borderRadius","disabled","theme","toggleBorder","background","spin","Loader","inner","innest","Spinner","HeaderContainer","Image","Text","h1","Body","App","banner","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","alertOptions","timeout","position","positions","BOTTOM_CENTER","render","StrictMode","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.2b1a4747.chunk.js","sourcesContent":["import {\r\n  FunctionComponent,\r\n  useEffect,\r\n  useState,\r\n  useCallback,\r\n  createContext,\r\n} from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport { useAlert } from \"react-alert\";\r\nimport {\r\n  INFURA_WEBSOCKETS_URL,\r\n  INFURA_PROJECT_ID,\r\n  INFURA_NETWORK,\r\n} from \"src/constants\";\r\nimport {\r\n  EthereumContextReturn,\r\n  BlockWithTransactions,\r\n  WebSocketProvider,\r\n} from \"src/types\";\r\n\r\nexport const EthereumContext = createContext<EthereumContextReturn>(\r\n  {} as EthereumContextReturn\r\n);\r\n\r\nexport const EthereumContextProvider: FunctionComponent = ({ children }) => {\r\n  const [latestBlocks, setLatestBlocks] = useState<BlockWithTransactions[]>([]);\r\n  const [provider, setProvider] = useState<WebSocketProvider | null>(null);\r\n  const [userAddress, setUserAddress] = useState<string>(\"\");\r\n\r\n  const alert = useAlert();\r\n\r\n  const getLatestBlocks = useCallback(async () => {\r\n    try {\r\n      if (provider) {\r\n        const latestBlockNumber = await provider.getBlockNumber();\r\n\r\n        const blocks = [];\r\n\r\n        for (\r\n          let currentBlock = latestBlockNumber;\r\n          blocks.length < 10;\r\n          currentBlock--\r\n        ) {\r\n          const newBlock = await provider.getBlockWithTransactions(\r\n            currentBlock\r\n          );\r\n\r\n          blocks.push(newBlock);\r\n        }\r\n\r\n        setLatestBlocks(blocks);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [provider]);\r\n\r\n  const subscribeToNewBlocks = useCallback(async () => {\r\n    try {\r\n      if (provider && latestBlocks.length) {\r\n        provider.on(\"block\", async (blockNumber) => {\r\n          const newBlock = await provider.getBlockWithTransactions(blockNumber);\r\n\r\n          // Update the blocks leaving in first place the new block, followed by the rest of pre-existing blocks and removing the oldest one.\r\n          setLatestBlocks((blocks) => {\r\n            // I've been testing for a while and there seems to be an issue with this subscription, from time to time it receives\r\n            // an event for the same block twice, duplicating the block in the list.\r\n            // Usually I'd have this validation outside of the setState, but if I used directly latestBlocks (outside of setLatestBlocks) I'd have to include\r\n            // it as dependency of the useCallback, causing subscribeToNewBlocks to be re-created and re-run in its useEffect every time a new block is added.\r\n            //  My 2 options were: 1. Ignoring depdendencies, going against a React's principle, or\r\n            // 2. Putting logic inside the setState (setLatestBlocks), that looks horrible to me but I don't remember to have read anything against it.\r\n            // Happy to know a better solution (and there might be plenty more than 1) if someone finds it!\r\n            const existingNumbers = blocks.map((block) => block.number);\r\n\r\n            if (!existingNumbers.includes(blockNumber))\r\n              return [newBlock, ...blocks.slice(0, -1)];\r\n            else return [...blocks];\r\n          });\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [provider, latestBlocks.length]);\r\n\r\n  const connectWithProvider = useCallback(() => {\r\n    try {\r\n      const { ethereum } = window;\r\n\r\n      if (ethereum) {\r\n        setProvider(\r\n          new ethers.providers.WebSocketProvider(\r\n            `${INFURA_WEBSOCKETS_URL}${INFURA_PROJECT_ID}`,\r\n            INFURA_NETWORK\r\n          )\r\n        );\r\n      } else {\r\n        alert.show(\"Install Metamask!\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [alert]);\r\n\r\n  const connectWallet = useCallback(async () => {\r\n    try {\r\n      const { ethereum } = window;\r\n\r\n      const accounts = await ethereum.request({\r\n        method: \"eth_requestAccounts\",\r\n      });\r\n\r\n      setUserAddress(accounts[0]);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    connectWallet();\r\n  }, [connectWallet]);\r\n\r\n  useEffect(() => {\r\n    connectWithProvider();\r\n  }, [connectWithProvider]);\r\n\r\n  // Fetch the initial 10 blocks, only if there's already a provider connected (verified internally)\r\n  useEffect(() => {\r\n    getLatestBlocks();\r\n  }, [getLatestBlocks]);\r\n\r\n  // Listen to new blocks, to update the list each time a new block is mined\r\n  useEffect(() => {\r\n    subscribeToNewBlocks();\r\n  }, [subscribeToNewBlocks]);\r\n\r\n  return (\r\n    <EthereumContext.Provider value={{ latestBlocks, userAddress }}>\r\n      {children}\r\n    </EthereumContext.Provider>\r\n  );\r\n};\r\n","export const INFURA_WEBSOCKETS_URL = \"wss://mainnet.infura.io/ws/v3/\";\r\nexport const INFURA_PROJECT_ID = \"ed948b163f0842cf86b3e1908a05f376\";\r\nexport const INFURA_NETWORK = \"mainnet\";\r\n","export default __webpack_public_path__ + \"static/media/banner.be8a9f49.png\";","import { useContext } from \"react\";\r\nimport { EthereumContext } from \"src/contexts\";\r\nimport { EthereumContextReturn } from \"src/types\";\r\n\r\nexport const useEthereum = (): EthereumContextReturn =>\r\n  useContext(EthereumContext);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: flex-end;\r\n`;\r\n","import { FunctionComponent } from \"react\";\r\nimport { BlockWithTransactions } from \"@ethersproject/abstract-provider\";\r\nimport { Container } from \"./styles\";\r\nimport { Block } from \"src/components\";\r\n\r\ninterface BlocksListProps {\r\n  blocks: BlockWithTransactions[];\r\n}\r\n\r\nexport const BlocksList: FunctionComponent<BlocksListProps> = ({ blocks }) => (\r\n  <Container>\r\n    {blocks.map((block) => (\r\n      <Block key={block.hash} block={block} />\r\n    ))}\r\n  </Container>\r\n);\r\n","import { ethers } from \"ethers\";\r\n\r\nexport const getBigNumber = (value: ethers.BigNumber) =>\r\n  ethers.utils.formatEther(value);\r\n\r\nexport const copyToClipboard = (\r\n  refEl: HTMLInputElement | null,\r\n  callback: (message: string) => void\r\n): void => {\r\n  try {\r\n    refEl?.select();\r\n    document.execCommand(\"copy\");\r\n\r\n    callback(\"Copied\");\r\n  } catch (error) {\r\n    console.error({ error });\r\n    if (typeof error === \"string\") callback(error);\r\n    else callback(\"There was an error trying to copy\");\r\n  }\r\n};\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nconst fadeIn = keyframes`\r\n        0% {\r\n          opacity: 0;\r\n          transform: scale(0.90);\r\n          transform-origin: top right;\r\n        }\r\n\r\n        100% {\r\n          opacity: 1;\r\n          transform: scale(1);\r\n          transform-origin: center;\r\n        }\r\n      `;\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  gap: 1em;\r\n  border-radius: 10px;\r\n  transition: 0.5s;\r\n  margin: 1em 0;\r\n  animation: ${fadeIn} 1.5s ease 1;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n`;\r\n\r\nexport const Expanded = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n  padding: 1em;\r\n  width: 70vw;\r\n  border-radius: 10px;\r\n  transition: 0.5s;\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n  animation: ${fadeIn} 0.3s ease 1;\r\n`;\r\n\r\nexport const Collapsed = styled.div`\r\n  padding: 1em;\r\n  width: 70vw;\r\n  transition: 0.5s;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  gap: 2em;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const ExpandButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  height: 3.5em;\r\n`;\r\n\r\nexport const ExpandButton = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 1.5em;\r\n  padding: 1em;\r\n  cursor: pointer;\r\n  display: flex;\r\n  border-radius: 10px;\r\n  transition: 0.5s;\r\n  background-color: rgba(255, 255, 255, 0.1);\r\n`;\r\n\r\nexport const Label = styled.h3``;\r\n\r\nexport const Field = styled.div``;\r\n\r\nexport const Input = styled.input``;\r\n\r\nexport const CheckboxContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 1em;\r\n`;\r\n\r\nexport const TimeAgo = styled.div`\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  padding: 0.8em;\r\n  border-radius: 10px;\r\n  font-size: 0.8em;\r\n`;\r\n\r\nexport const Hash = styled.span`\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n`;\r\n","import { FunctionComponent, useState } from \"react\";\r\nimport { BlockWithTransactions } from \"@ethersproject/abstract-provider\";\r\nimport { TransactionsList, Field } from \"src/components\";\r\nimport { getBigNumber } from \"src/utils\";\r\nimport { useBlockDate, useEthereum } from \"src/hooks\";\r\nimport {\r\n  Collapsed,\r\n  Container,\r\n  Expanded,\r\n  Label,\r\n  ExpandButtonContainer,\r\n  ExpandButton,\r\n  Input,\r\n  CheckboxContainer,\r\n  TimeAgo,\r\n  Hash,\r\n} from \"./styles\";\r\n\r\ninterface BlockProps {\r\n  block: BlockWithTransactions;\r\n}\r\n\r\nexport const Block: FunctionComponent<BlockProps> = ({ block }) => {\r\n  const [expanded, setExpanded] = useState<boolean>(false);\r\n  const [onlyOwnTransactions, setOnlyOwnTransactions] =\r\n    useState<boolean>(false);\r\n\r\n  const { timeAgo, getBlockDate } = useBlockDate(block.timestamp);\r\n  const { userAddress } = useEthereum();\r\n\r\n  const toggle = () => setExpanded(!expanded);\r\n\r\n  const transactionsSendingETH = block.transactions.filter(\r\n    (transaction) => Number(getBigNumber(transaction.value)) !== 0\r\n  );\r\n\r\n  const ownTransactions = transactionsSendingETH.filter(\r\n    (transaction) =>\r\n      transaction.from === userAddress || transaction.to === userAddress\r\n  );\r\n\r\n  const toggleOwnTransactions = () =>\r\n    setOnlyOwnTransactions(!onlyOwnTransactions);\r\n\r\n  return (\r\n    <Container>\r\n      {expanded ? (\r\n        <Expanded>\r\n          <Label>Hash:</Label>\r\n          <Field text={block.hash} />\r\n          <Label>Number:</Label>\r\n          <Field text={String(block.number)} />\r\n          <Label>Miner:</Label>\r\n          <Field text={block.miner} />\r\n          <Label>Timestamp:</Label>\r\n          <Field text={String(getBlockDate())} />\r\n          <CheckboxContainer>\r\n            <Label>Only transactions from/to me?</Label>\r\n            <Input\r\n              type=\"checkbox\"\r\n              onClick={toggleOwnTransactions}\r\n              defaultChecked={onlyOwnTransactions}\r\n            />\r\n          </CheckboxContainer>\r\n          <TransactionsList\r\n            transactions={\r\n              onlyOwnTransactions ? ownTransactions : transactionsSendingETH\r\n            }\r\n          />\r\n        </Expanded>\r\n      ) : (\r\n        <Collapsed>\r\n          <Hash>{block.hash}</Hash>\r\n          <TimeAgo> {timeAgo} seconds ago</TimeAgo>\r\n        </Collapsed>\r\n      )}\r\n\r\n      <ExpandButtonContainer>\r\n        <ExpandButton onClick={toggle}>{expanded ? \"↑\" : \"↓\"}</ExpandButton>\r\n      </ExpandButtonContainer>\r\n    </Container>\r\n  );\r\n};\r\n","import { useEffect, useState } from \"react\";\r\n\r\nexport const useBlockDate = (timestamp: number) => {\r\n  const [currentTime, setCurrentTime] = useState(new Date());\r\n  const [timeAgo, setTimeAgo] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const timer = setInterval(() => {\r\n      setCurrentTime(new Date());\r\n    }, 1000);\r\n\r\n    return () => {\r\n      clearInterval(timer);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const time = new Date(timestamp * 1000);\r\n    const result = Math.round((currentTime.getTime() - time.getTime()) / 1000);\r\n    setTimeAgo(result);\r\n  }, [timeAgo, timestamp, currentTime]);\r\n\r\n  const getBlockDate = () => {\r\n    const date = new Date(timestamp * 1000);\r\n\r\n    return date;\r\n  };\r\n\r\n  return {\r\n    timeAgo,\r\n    getBlockDate,\r\n  };\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div``;\r\n","import { FunctionComponent } from \"react\";\r\nimport { TransactionResponse } from \"@ethersproject/abstract-provider\";\r\nimport { Container } from \"./styles\";\r\nimport { Transaction } from \"src/components\";\r\n\r\ninterface TransactionsListProps {\r\n  transactions: TransactionResponse[];\r\n}\r\n\r\nexport const TransactionsList: FunctionComponent<TransactionsListProps> = ({\r\n  transactions,\r\n}) => (\r\n  <Container>\r\n    <h3>Transactions:</h3>\r\n    <h5>(only {transactions.length} sending ETH)</h5>\r\n    {transactions.map((transaction) => (\r\n      <Transaction key={transaction.hash} transaction={transaction} />\r\n    ))}\r\n  </Container>\r\n);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  padding: 1em 0;\r\n  cursor: pointer;\r\n  border-radius: 10px;\r\n  transition: 0.5s;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n\r\n  &:hover {\r\n    background-color: rgba(255, 255, 255, 0.1);\r\n  }\r\n`;\r\n","import { FunctionComponent, useState } from \"react\";\r\nimport { TransactionResponse } from \"@ethersproject/abstract-provider\";\r\nimport { TransactionModal } from \"src/components\";\r\nimport { Container } from \"./styles\";\r\n\r\ninterface TransactionProps {\r\n  transaction: TransactionResponse;\r\n}\r\n\r\nexport const Transaction: FunctionComponent<TransactionProps> = ({\r\n  transaction,\r\n}) => {\r\n  const [modalOpen, setModalOpen] = useState<boolean>(false);\r\n\r\n  const toggleModal = () => setModalOpen(!modalOpen);\r\n\r\n  return (\r\n    <>\r\n      <Container onClick={toggleModal}>{transaction.hash}</Container>\r\n      <TransactionModal\r\n        isOpen={modalOpen}\r\n        onClose={toggleModal}\r\n        transaction={transaction}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\ninterface BackgroundProps {\r\n  isOpen: boolean;\r\n}\r\n\r\nconst fadeIn = keyframes`\r\n        0% {\r\n          opacity: 0;\r\n          transform: scale(0.90);\r\n        }\r\n        100% {\r\n          opacity: 1;\r\n          transform: scale(1);\r\n        }\r\n      `;\r\n\r\nexport const Background = styled.div<BackgroundProps>`\r\n  background: rgba(0, 0, 0, 0.86);\r\n  position: fixed;\r\n  bottom: 0;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  min-height: 100vh;\r\n  z-index: 90;\r\n  display: ${({ isOpen }) => (isOpen ? \"flex\" : \"none\")};\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  background-color: #282c34;\r\n  color: white;\r\n  border-radius: 10px;\r\n  width: 80%;\r\n  max-width: 500px;\r\n  padding: 1em 1.4em;\r\n  animation: ${fadeIn} 0.3s ease 1;\r\n`;\r\n\r\nexport const CloseButton = styled.div`\r\n  align-self: flex-end;\r\n  cursor: pointer;\r\n  transition: 0.3s;\r\n\r\n  &:hover {\r\n    transform: scale(1.2);\r\n  }\r\n`;\r\n\r\nexport const Transaction = styled.div`\r\n  padding: 1em;\r\n`;\r\n\r\nexport const Label = styled.h3``;\r\n","import { FunctionComponent } from \"react\";\r\nimport { TransactionResponse } from \"@ethersproject/abstract-provider\";\r\nimport { Field } from \"src/components\";\r\nimport { getBigNumber } from \"src/utils\";\r\nimport {\r\n  Background,\r\n  CloseButton,\r\n  Container,\r\n  Transaction,\r\n  Label,\r\n} from \"./styles\";\r\n\r\ninterface TransactionModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  transaction: TransactionResponse;\r\n}\r\n\r\nexport const TransactionModal: FunctionComponent<TransactionModalProps> = ({\r\n  isOpen,\r\n  onClose,\r\n  transaction,\r\n}) => {\r\n  return (\r\n    <Background isOpen={isOpen}>\r\n      <Container>\r\n        <CloseButton onClick={onClose}>x</CloseButton>\r\n        <Transaction>\r\n          <Label>Hash:</Label>\r\n          <Field text={transaction.hash} />\r\n          <Label>Block Number:</Label>\r\n          <Field text={String(transaction.blockNumber)} />\r\n          <Label>From:</Label>\r\n          <Field text={transaction.from} />\r\n          {transaction.to && (\r\n            <>\r\n              {\" \"}\r\n              <Label>To:</Label>\r\n              <Field text={transaction.to} />\r\n            </>\r\n          )}\r\n          <Label>ETH Sent:</Label>\r\n          <Field text={getBigNumber(transaction.value)} />\r\n        </Transaction>\r\n      </Container>\r\n    </Background>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/copy.0683a556.svg\";","import { FunctionComponent, useRef } from \"react\";\r\nimport { useAlert } from \"react-alert\";\r\nimport styled from \"styled-components\";\r\nimport { Button } from \"src/components\";\r\nimport { copyToClipboard } from \"src/utils\";\r\nimport copyIcon from \"src/assets/copy.svg\";\r\n\r\ninterface FieldProps {\r\n  text: string;\r\n}\r\n\r\nexport const Field: FunctionComponent<FieldProps> = ({ text }) => {\r\n  const inputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  const alert = useAlert();\r\n\r\n  const handleCopyToClipboard = () =>\r\n    copyToClipboard(inputRef.current, alert.show);\r\n\r\n  return (\r\n    <FieldContainer>\r\n      <FieldBase readOnly ref={inputRef} value={text} />\r\n      <Button onClick={handleCopyToClipboard}>\r\n        <Icon src={copyIcon} />\r\n      </Button>\r\n    </FieldContainer>\r\n  );\r\n};\r\n\r\nexport const FieldContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  gap: 1em;\r\n  border: 1px solid white;\r\n  border-radius: 10px;\r\n  padding: 0 1em;\r\n`;\r\n\r\nexport const FieldBase = styled.input`\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n  background: transparent;\r\n  border: none;\r\n  color: white;\r\n  width: 80%;\r\n\r\n  &:focus {\r\n    text-decoration: none;\r\n    outline: none;\r\n    cursor: auto;\r\n  }\r\n`;\r\n\r\nexport const Icon = styled.img`\r\n  width: 1em;\r\n  height: 1em;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\ninterface ButtonProps {\r\n  borderRadius?: string;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport const Button = styled.button<ButtonProps>`\r\n  border-radius: ${({ borderRadius }) => borderRadius ?? \"5px\"};\r\n  padding: 0.4em;\r\n  cursor: ${({ disabled }) => (disabled ? \"not-allowed\" : \"pointer\")};\r\n  transition: 0.6s;\r\n  text-align: center;\r\n  justify-content: center;\r\n  border: 1px solid ${({ theme }) => theme.toggleBorder};\r\n  background: ${({ theme }) => theme.background};\r\n  color: ${({ theme }) => theme.text};\r\n  margin: 1em 0;\r\n\r\n  &:hover {\r\n    background-color: #3ca2c3;\r\n    color: white;\r\n    transform: scale(1.01);\r\n  }\r\n\r\n  &:focus {\r\n    outline: 0;\r\n  }\r\n`;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nconst spin = keyframes`\r\n        0% {\r\n          transform: rotate(0deg);\r\n        }\r\n  \r\n        50% {\r\n          transform: rotate(180deg);\r\n          opacity: 0.6;\r\n        }\r\n  \r\n        100% {\r\n          transform: rotate(360deg);\r\n          opacity: 1;\r\n        }\r\n      `;\r\n\r\nexport const Loader = styled.div<{ inner?: boolean; innest?: boolean }>`\r\n  border: 8x solid lightBlue;\r\n  border-top: 8px solid rgba(255, 219, 220);\r\n  border-radius: 50%;\r\n  width: ${({ inner, innest }) => (inner ? \"40px\" : innest ? \"10px\" : \"65px\")};\r\n  height: ${({ inner, innest }) =>\r\n    inner ? \"33px\" : innest ? \"7px\" : \"60px\"};\r\n  animation: ${spin} 1.5s linear infinite;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n","import { FunctionComponent } from \"react\";\r\nimport { Loader } from \"./styles\";\r\n\r\nexport const Spinner: FunctionComponent = () => (\r\n  <Loader>\r\n    <Loader inner>\r\n      <Loader innest />\r\n    </Loader>\r\n  </Loader>\r\n);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  min-height: 100vh;\r\n  background-color: #282c34;\r\n  color: white;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  @media (max-width: 600px) {\r\n    font-size: 0.85rem;\r\n  }\r\n`;\r\n\r\nexport const HeaderContainer = styled.div`\r\n  margin: 3em 0;\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  top: 0;\r\n  height: 200px;\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  height: 100%;\r\n  position: absolute;\r\n  z-index: 0;\r\n`;\r\n\r\nexport const Text = styled.h1`\r\n  text-shadow: 1px 1px 5px white;\r\n  text-align: center;\r\n  z-index: 1;\r\n  position: absolute;\r\n  margin-top: 1.68em;\r\n  width: 10em;\r\n  font-size: 1.8em;\r\n`;\r\n\r\nexport const Body = styled.div`\r\n  margin-top: 20em;\r\n`;\r\n","import banner from \"src/assets/banner.png\";\nimport { useEthereum } from \"src/hooks\";\nimport { BlocksList, Spinner } from \"./components\";\nimport { Container, HeaderContainer, Image, Text, Body } from \"./styles\";\n\nconst App = () => {\n  const { latestBlocks } = useEthereum();\n\n  return (\n    <Container>\n      <HeaderContainer>\n        <Image src={banner} />\n        <Text>Eth Explorer</Text>\n      </HeaderContainer>\n      <Body>\n        {latestBlocks.length ? (\n          <BlocksList blocks={latestBlocks} />\n        ) : (\n          <Spinner />\n        )}\n      </Body>\n    </Container>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { positions, Provider as AlertProvider } from \"react-alert\";\n// @ts-ignore\nimport AlertTemplate from \"react-alert-template-oldschool-dark\";\nimport { EthereumContextProvider } from \"src/contexts\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst alertOptions = {\n  timeout: 10000,\n  position: positions.BOTTOM_CENTER,\n};\n\nrender(\n  <React.StrictMode>\n    <AlertProvider template={AlertTemplate} {...alertOptions}>\n      <EthereumContextProvider>\n        <App />\n      </EthereumContextProvider>\n    </AlertProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}